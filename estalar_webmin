script Bash simples para instalar o Webmin em distribui√ß√µes baseadas em Debian/Ubuntu:

#!/bin/bash

# Verifica se o script est√° sendo executado como root
if [ "$(id -u)" -ne 0 ]; then
  echo "Este script precisa ser executado como root."
  exit 1
fi

# Atualiza o sistema
echo "Atualizando os pacotes do sistema..."
apt update && apt upgrade -y

# Instala depend√™ncias
echo "Instalando depend√™ncias..."
apt install -y software-properties-common apt-transport-https wget gnupg

# Adiciona a chave GPG do reposit√≥rio do Webmin
echo "Adicionando chave GPG do Webmin..."
wget -qO- https://download.webmin.com/jcameron-key.asc | gpg --dearmor -o /usr/share/keyrings/webmin-archive-keyring.gpg

# Adiciona o reposit√≥rio do Webmin
echo "Adicionando reposit√≥rio do Webmin..."
echo "deb [signed-by=/usr/share/keyrings/webmin-archive-keyring.gpg] https://download.webmin.com/download/repository sarge contrib" > /etc/apt/sources.list.d/webmin.list

# Atualiza os reposit√≥rios e instala o Webmin
echo "Instalando o Webmin..."
apt update
apt install -y webmin

# Mensagem de conclus√£o
echo "Instala√ß√£o do Webmin conclu√≠da!"
echo "Acesse via navegador: https://<IP_DO_SERVIDOR>:10000"

Como usar:

    Salve o conte√∫do acima em um arquivo, por exemplo: instalar-webmin.sh

    Torne o script execut√°vel:

chmod +x instalar-webmin.sh

Execute com privil√©gios de superusu√°rio:

    sudo ./instalar-webmin.sh

Deseja uma vers√£o adaptada para CentOS, AlmaLinux ou outra distribui√ß√£o?
You said:
teste depois de estalar
ChatGPT said:

Para testar se o Webmin est√° funcionando corretamente ap√≥s a instala√ß√£o, voc√™ pode adicionar ao final do script alguns comandos de verifica√ß√£o. Aqui est√° o trecho atualizado do script com o teste incluso:
üîß Script completo com teste p√≥s-instala√ß√£o:

#!/bin/bash

# Verifica se o script est√° sendo executado como root
if [ "$(id -u)" -ne 0 ]; then
  echo "Este script precisa ser executado como root."
  exit 1
fi

# Atualiza o sistema
echo "Atualizando os pacotes do sistema..."
apt update && apt upgrade -y

# Instala depend√™ncias
echo "Instalando depend√™ncias..."
apt install -y software-properties-common apt-transport-https wget gnupg

# Adiciona a chave GPG do reposit√≥rio do Webmin
echo "Adicionando chave GPG do Webmin..."
wget -qO- https://download.webmin.com/jcameron-key.asc | gpg --dearmor -o /usr/share/keyrings/webmin-archive-keyring.gpg

# Adiciona o reposit√≥rio do Webmin
echo "Adicionando reposit√≥rio do Webmin..."
echo "deb [signed-by=/usr/share/keyrings/webmin-archive-keyring.gpg] https://download.webmin.com/download/repository sarge contrib" > /etc/apt/sources.list.d/webmin.list

# Atualiza os reposit√≥rios e instala o Webmin
echo "Instalando o Webmin..."
apt update
apt install -y webmin

# Verifica se o servi√ßo est√° ativo
echo "Verificando status do Webmin..."
systemctl status webmin | grep Active

# Porta padr√£o de acesso
echo "A instala√ß√£o do Webmin foi conclu√≠da!"
echo "Voc√™ pode acess√°-lo via navegador em: https://<IP_DO_SERVIDOR>:10000"
echo "Certifique-se de que a porta 10000 est√° liberada no firewall."

‚úÖ Resultado esperado ap√≥s execu√ß√£o:

    O servi√ßo webmin deve aparecer como active (running).

    A porta 10000 precisa estar aberta (voc√™ pode usar ufw allow 10000 ou configurar conforme seu firewall).
